"use strict";(self.webpackChunkshotit_frontend=self.webpackChunkshotit_frontend||[]).push([[4660],{8512:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var n=a(7294),l=a(7961),r=a(1100);const s={demoContainer:"demoContainer_ryNF",searchBarContainer:"searchBarContainer_jUod",leftDemoSide:"leftDemoSide_MgLx",rightDemoSide:"rightDemoSide_e2SL",skeleton:"skeleton_U82o",searching:"searching_hC35",result:"result_Wxvw",loadingSvg:"loadingSvg_jZrn",searchingText:"searchingText_sLVQ",dropEffect:"dropEffect_eBLf",dropping:"dropping_urYM"},i=a.p+"assets/images/default-e894fa7bf526d9c350ad8843efa9a729.png",{searchBar:o,searchBarContent:c,formControls:m,formControlsFocus:p,sampleModalContainer:d,sampleModalContent:u,sampleModalText:g,sampleModalGroup:h,sampleModalItem:b,sampleModalItemLeft:f,sampleModalItemRight:v,imageUrlInput:E,closeSvgContainer:C,closeSvg:S,file:y}={searchBar:"searchBar_bJRy",greet:"greet_xPw8",searchBarContent:"searchBarContent_g7aL",sampleModalContainer:"sampleModalContainer_YZth",sampleModalContent:"sampleModalContent_h1XT",sampleModalText:"sampleModalText_L87D",sampleModalGroup:"sampleModalGroup_srvv",sampleModalItem:"sampleModalItem_jRW7",sampleModalItemLeft:"sampleModalItemLeft_woSj",sampleModalItemRight:"sampleModalItemRight_KOFY",formControls:"formControls_u4_8",formControlsFocus:"formControlsFocus_FXSW",imageUrlInput:"imageUrlInput_DZN9",anilistFilterInput:"anilistFilterInput_KOFE",closeSvgContainer:"closeSvgContainer_LsGX",closeSvg:"closeSvg_MVH7",file:"file_VYY3",iconCheck:"iconCheck_Gn9r",iconCross:"iconCross_mlZi",iconSearch:"iconSearch_RUFK",cutBordersBtn:"cutBordersBtn_d3zU",searchBtn:"searchBtn_yjcE"},L=[{name:"Elephant's Dream",thumbnail:"https://i.ibb.co/n8ysJ6B/elephant-s-dream.png",url:"https://i.ibb.co/Fq1bTmX/elephant-s-dream.png"},{name:"Big Buck Bunny",thumbnail:"https://i.ibb.co/8mrXQmZ/big-buck-bunny.png",url:"https://i.ibb.co/HKtX9K8/big-buck-bunny.png"},{name:"Sintel",thumbnail:"https://i.ibb.co/MnDFJZQ/sintel.png",url:"https://i.ibb.co/1ZfF47j/sintel.png"},{name:"Tears of Steel",thumbnail:"https://i.ibb.co/5nRRLnp/tears-of-steel.png",url:"https://i.ibb.co/rcwwHc8/tears-of-steel.png"},{name:"Caminandes 2 gran dillama",thumbnail:"https://i.ibb.co/jDqwp8P/Caminandes-2-Gran-Dillama.png",url:"https://i.ibb.co/zZC2kmT/Caminandes-2-Gran-Dillama.png"},{name:"Cosmos Laundromat: First Cycle",thumbnail:"https://i.ibb.co/wgrvtHr/Cosmos-Laundromat-First-Cycle.png",url:"https://i.ibb.co/sRJB7SJ/Cosmos-Laundromat-First-Cycle.png"},{name:"Glass Half",thumbnail:"https://i.ibb.co/z5Wm5p9/glass-half.png",url:"https://i.ibb.co/TTDwT6j/glass-half.png"},{name:"Agent 327",thumbnail:"https://i.ibb.co/NKjsJGG/agent-327.png",url:"https://i.ibb.co/dD2rVHH/agent-327.png"},{name:"Caminandes 3 Llamigos",thumbnail:"https://i.ibb.co/JBDBnTC/Caminandes-3-Llamigos.png",url:"https://i.ibb.co/yfHf0CV/Caminandes-3-Llamigos.png"},{name:"The Daily Dweebs",thumbnail:"https://i.ibb.co/5YqFSdk/The-Daily-Dweebs.png",url:"https://i.ibb.co/cbzLZPw/The-Daily-Dweebs.png"},{name:"HERO",thumbnail:"https://i.ibb.co/J2bFQYD/HERO.png",url:"https://i.ibb.co/4MDgdbh/HERO.png"},{name:"Spring",thumbnail:"https://i.ibb.co/ZNCPSmp/spring.png",url:"https://i.ibb.co/M9L4f6x/spring.png"},{name:"Coffee Run",thumbnail:"https://i.ibb.co/zXpzGwY/coffee-run.png",url:"https://i.ibb.co/Ht6jnQs/coffee-run.png"},{name:"Sprite Fright",thumbnail:"https://i.ibb.co/gRPTvBB/Sprite-Fright.png",url:"https://i.ibb.co/G5t2sbb/Sprite-Fright.png"},{name:"CHARGE",thumbnail:"https://i.ibb.co/3SZksRN/charge.png",url:"https://i.ibb.co/frwQSDp/charge.png"}];function D(e){let{imageURL:t,clearImageURL:a,handleURLpaste:l,handleFileSelect:r}=e;const[s,i]=(0,n.useState)(!1),D=(0,n.useCallback)((()=>{i(!0)}),[]);const _=(0,n.useRef)(null);var w;return w=_,(0,n.useEffect)((()=>{function e(e){w.current&&!w.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[w]),n.createElement("div",{className:o},n.createElement("div",{className:c,ref:_},n.createElement("div",{className:s?`${m} ${p}`:`${m}`},n.createElement("form",null,n.createElement("input",{type:"text",pattern:"https?://.+",required:!0,name:"imageURL",className:E,placeholder:"Paste screenshot URL or drop your screenshot below",value:t.startsWith("http")?t:"",onChange:e=>{l(e),i(!1)},onPaste:()=>{i(!1)},onClick:D}),n.createElement("input",{type:"submit"}),t.startsWith("http")&&n.createElement("div",{className:C,onClick:a},n.createElement("span",{className:S})),n.createElement("div",{className:y},n.createElement("input",{type:"file",name:"files[]",accept:"image/*",onChange:e=>{r(e),i(!1)}})))),s&&n.createElement("div",{className:d},n.createElement("div",{className:u},n.createElement("div",{className:g},n.createElement("strong",null,"Sample Screenshots")),n.createElement("div",{className:h},L.map((e=>{let{name:r,thumbnail:s,url:o}=e;return n.createElement("div",{key:o,className:b,onClick:()=>{t!==o&&(a(),l(o)),i(!1)}},n.createElement("div",{className:f},n.createElement("img",{src:s,alt:r})),n.createElement("div",{className:v},n.createElement("span",null,r)))})))))))}const{dropping:_}=s;function w(e){let{}=e;const[t,a]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[m,p]=(0,n.useState)([]);(0,n.useEffect)((()=>{document.querySelector("footer").setAttribute("style","display: none;");const e=e=>{console.log("image paste");const t=e.clipboardData?.items;if(!t)return;const n=Array.from(t).find((e=>e.type.startsWith("image")));n&&(a(""),a(URL.createObjectURL(n.getAsFile())),e.preventDefault())};return window.addEventListener("paste",e,!1),()=>{window.removeEventListener("paste",e)}}),[]),(0,n.useEffect)((()=>{t&&(async e=>{const t=await fetch(`http://13.214.77.230:3311/search?url=${e}`);return await t.json()})(t).then((e=>{console.log("fetchResult");const{result:t=[]}=e;p(t)}))}),[t]);const d=(0,n.useCallback)((()=>{console.log("clearImageURL"),a(""),p([])}),[]),u=(0,n.useCallback)((e=>(console.log("handleURLpaste"),String(e).startsWith("http")?(a(""),a(e),void history.replaceState(null,null,`/shotit-frontend/demo?url=${encodeURIComponent(e)}`)):e.target.value.length?void(e.target.parentNode.checkValidity()?(a(""),a(e.target.value),history.replaceState(null,null,`/shotit-frontend/demo?url=${encodeURIComponent(e.target.value)}`)):e.target.parentNode.querySelector("input[type=submit]").click()):(a(""),void history.replaceState(null,null,"/shotit-frontend/demo")))),[]),g=(0,n.useCallback)((e=>{console.log("handleFileSelect"),e.stopPropagation(),e.preventDefault();const t=e.dataTransfer?e.dataTransfer.files[0]:e.target.files[0];return t&&t.type.match("image.*")?(a(""),a(URL.createObjectURL(t)),""):"Error: File is not an image"}),[]);return n.createElement(l.Z,null,n.createElement("div",{className:s.demoContainer},n.createElement("div",{className:"row"},n.createElement("div",{className:`col col--12 ${s.searchBarContainer}`},n.createElement(D,{imageURL:t,clearImageURL:d,handleURLpaste:u,handleFileSelect:g}))),n.createElement("div",{className:"row"},n.createElement("div",{className:`col col--6 ${s.leftDemoSide}`},n.createElement("img",{src:t||i,alt:""}),n.createElement("div",{className:s.dropEffect,onDrop:e=>{const t=g(e);t?c(t):e.target.classList.remove(_)},onDragOver:e=>{e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},onDragEnter:e=>{e.target.classList.add(_),c("Drop image here")},onDragLeave:e=>{e.target.classList.remove(_)}},o)),t&&0==m.length&&n.createElement("div",{className:`col col--6 ${s.rightDemoSide} ${s.searching}`},n.createElement("div",null,n.createElement("div",{className:s.loadingSvg}),n.createElement("p",{className:s.searchingText},"Searching..."))),t&&m.length>0&&n.createElement("div",{className:`col col--6 ${s.rightDemoSide} ${s.result}`},m.map((e=>{let{episode:t,filename:a,from:l,to:r,imdb:s,similarity:i,image:o,video:c}=e;return n.createElement("div",{key:`${Date.now()}${i}`,style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center",border:"1px solid #e1eaf1",borderRadius:"1rem",marginTop:"1rem",marginBottom:"1rem",boxShadow:"0 2px 12px 0 rgba(0,0,0,.2)"}},n.createElement("div",{style:{width:"100%",margin:"1rem 1rem 0",fontSize:"24px",fontWeight:"bold",borderBottom:"1px solid"}},a),n.createElement("div",{style:{display:"inline-block",width:"320px",height:"180px",background:"aqua"}}),n.createElement("div",{style:{marginLeft:"1rem",display:"inline-block",maxWidth:"300px"}},n.createElement("div",null,t),n.createElement("div",null),n.createElement("div",null,l),n.createElement("div",null,r),n.createElement("div",null,s),n.createElement("div",null,i),n.createElement("div",null,o),n.createElement("div",null,c)))}))),!t&&n.createElement("div",{className:`col col--6 ${s.rightDemoSide} ${s.skeleton}`},n.createElement(r.Z,{paragraph:{rows:2}}),n.createElement(r.Z.Avatar,{size:100,shape:"square"}),n.createElement(r.Z,{paragraph:{rows:4}})))))}}}]);